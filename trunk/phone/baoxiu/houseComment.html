<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
    <head>
        <title>评价</title>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="../css/ui-box.css">
        <link rel="stylesheet" type="text/css" href="../css/index.css"/>
        <style type="text/css">
            ul,li{list-style:none;}
a{text-decoration: none;color:#09f;}
/*大容器*/
.starsBox{position:relative;width:120px;float:left;}
.star{height:20px;width: 120px;position:relative;background:url(../images/star2.png) repeat-x;cursor:pointer;}
/*.star的width用于控制显示多少星,120=24*5*/
.star li{float:left;}
.star li a{display: block;width:24px;height:20px;overflow: hidden;text-indent:-9999px;position:absolute;z-index: 5}
/*关键实现滑动出现星星，且前一个星星不会消失已选状态*/
.star a.one-star{left:0;}
.star a.two-star{left:24px;}
.star a.three-star{left:48px;}
.star a.four-star{left:72px;}
.star a.five-star{left:96px;}
.current-rating{background:url(../images/star2.png) 0 -25px repeat-x;position:absolute;height:20px;z-index:1;top:0;left:0}
.discription{clear:both;}
        </style>
    </head>
    <body class="um-vp" ontouchstart>
        <div id="page_0" class="up ub ub-ver bc-bg" tabindex="0">
            <div id="content" class="tx-l ub-f1">
                <div class="pa-tb-1 pa-lr-1 bg_fff">
                    <div class="">评分：</div>
                    <div class="ub ub-ac bor_B pa-tb-1">
                        <!-- <div class="ub pa-tb-1 ub-ac" id="stars">
                            <div class="star ma-r-05"></div>
                            <div class="star1 ma-r-05"></div>
                            <div class="star1 ma-r-05"></div>
                            <div class="star1 ma-r-05"></div>
                            <div class="star1 ma-r-1"></div>
                        </div>
                        <div class="color_4098e2 font_26 comment">差评</div> -->
                        <div class="starsBox" >
                            <ul class="star" id="star">
                                <li><a href="####" title="1" class="one-star">1</a></li>
                                <li><a href="####" title="2" class="two-star">2</a></li>
                                <li><a href="####" title="3" class="three-star">3</a></li>
                                <li><a href="####" title="4" class="four-star">4</a></li>
                                <li><a href="####" title="5" class="five-star">5</a></li>
                            </ul>
                            <div class="current-rating" id="showb"></div>
                            <!-- 用于最终显示用户选择了多少星星的div -->
                        </div>
         <!-- 文字显示区 -->
                        <div class="discription font_26 ma-l-05"></div> 
                    </div>
                    <div class="uinput ub ub-f1">
                        <textarea placeholder="写下体会 可以为其他的小伙伴提供参考" type="text" class="ub-f1"></textarea>
                    </div>
                </div>
                <div class="pa-l1 pa-tb-1">
                    备注信息
                </div>
                <div class="pa-l1 font_28 color_97"></div>
            </div>
            <div class="ub bg_3299e4 pa-tb-05 color_fff ub-pc ub-ac ma-b ma-lr-1 uc-a1" onclick="sub()">提交</div>
            <!--content结束-->
        </div>
        <script src="../js/jquery-1.9.1.min.js"></script>
        <script src="../js/index.js"></script>
    </body>
    <script>
          //实现：拿到选择多少个星星，星星对应什么评语，显示评语，显示选中多少星星，提示用户评语内容
        $(document).ready(function(){
            //所需要的变量有：存储星星位置个数，评语数组，用来存储最终评语的，存储选择多少星星的。
            var description=new Array("非常差","差","还好","满意","很满意");
            var descriptionTemp;//用于存储最终评语
            var stars=$("#star>li");//拿到所有的li
            var stepW=24;
             $("#showb").css("width",0);//不知道什么作用
            stars.each(function(i){
                $(stars[i]).click(function(e){
                    //用户选择多少个星星
                    var n=i+1;
                    //显示用户最终选了多少个星星---通过n*stepW
                    $("#showb").css({"width":n*stepW});//值需要用函数计算的，用multiple的css方法
                    //选择的评语
                    $(".discription").text(description[i]);
                    descriptionTemp=description[i];//descriptionTemp是全局变量
                    return stopDefault(e);//取消默认行为
                    return descriptionTemp;
                });
            });
        });

        function stopDefault(e){
            if(e && e.preventDefault){
                   e.preventDefault();
               }else{
                   window.event.returnValue = false;//只有IE有window.event
               }
            return false;
        };  
        function sub(){
            alert("感谢您对本次服务的评价！")
        }
        
    
 </script>
</html>